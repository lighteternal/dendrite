# Copy this file to `.env` for local development.
# Leave secrets blank in source control.

# Core API
OPENAI_API_KEY=
MCP_TRANSPORT_MODE=auto
AUTOCOMPLETE_USE_OPENAI=0

# MCP endpoints (local docker-compose defaults)
OPENTARGETS_MCP_URL=http://localhost:7010/mcp
REACTOME_MCP_URL=http://localhost:7020/mcp
STRING_MCP_URL=http://localhost:7030/mcp
CHEMBL_MCP_URL=http://localhost:7040/mcp
BIOMCP_URL=http://localhost:8000/mcp
PUBMED_MCP_URL=http://localhost:7050/mcp
MEDICAL_MCP_URL=http://localhost:7060/mcp

# Optional PubMed E-utilities identity (recommended for higher throughput)
NCBI_EMAIL=
NCBI_API_KEY=

# Optional. Google Scholar/journal scraping in medical-mcp is heavyweight and can timeout in containers.
# Keep disabled unless you install full Chromium deps and explicitly need it.
MEDICAL_MCP_ENABLE_JOURNAL_SCRAPE=0

# Stream + graph behavior
PHASE_TIMEOUT_MS=600000
STREAM_BATCH_MIN_DELAY_MS=120
STREAM_BATCH_MAX_DELAY_MS=320
STREAM_RANKING_TIMEOUT_MS=180000
STREAM_P5_BUDGET_MS=480000
STREAM_P5_PER_TARGET_TIMEOUT_MS=45000
STREAM_MAX_LITERATURE_TARGETS=5
STRING_CONFIDENCE_DEFAULT=0.7
STRING_MAX_ADDED_NODES=180
STRING_MAX_ADDED_EDGES=500
STRING_MAX_NEIGHBORS_PER_SEED=15
CACHE_TTL_MS=300000
CACHE_MAX_ENTRIES=500

# OpenAI model routing
OPENAI_MODEL=gpt-5.2
OPENAI_SMALL_MODEL=gpt-5-mini
OPENAI_NANO_MODEL=gpt-5-nano
OPENAI_HYPOTHESIS_TIMEOUT_MS=10000
OPENAI_PROMPT_CACHE_ENABLED=1
# Optional: in_memory | 24h | none
OPENAI_PROMPT_CACHE_RETENTION=none
OPENAI_PROMPT_CACHE_KEY_PREFIX=targetgraph-v1
# Optional JSON override. Example:
# OPENAI_MODEL_PRICING_JSON={"gpt-5.2":{"inputPer1MUsd":1.25,"cachedInputPer1MUsd":0.125,"outputPer1MUsd":10}}
OPENAI_MODEL_PRICING_JSON=

# Run-level budget controls (10 minute hard cap, with synthesis reserve)
RUN_HARD_BUDGET_MS=600000
RUN_FINALIZATION_RESERVE_MS=90000
RUN_FALLBACK_SYNTHESIS_TIMEOUT_MS=120000
RUN_FINAL_GROUNDING_TIMEOUT_MS=120000
RUN_DISCOVERER_FINAL_WAIT_MS=150000
DEEP_DISCOVER_AGENT_TIMEOUT_MS=600000
DEEP_DISCOVER_TOOL_TIMEOUT_MS=120000
DEEP_DISCOVER_MAX_RUN_MS=600000
DEEP_DISCOVER_MAX_PUBMED_SUBQUERIES=20

# Optional medical MCP tuning (only used by services/mcp-medical)
CACHE_ENABLED=true
CACHE_MAX_SIZE=1000
CACHE_CLEANUP_INTERVAL=300000
CACHE_TTL_FDA=86400
CACHE_TTL_PUBMED=3600
CACHE_TTL_WHO=604800
CACHE_TTL_RXNORM=2592000
CACHE_TTL_CLINICAL_GUIDELINES=604800
CACHE_TTL_GOOGLE_SCHOLAR=3600
CACHE_TTL_BRIGHT_FUTURES=2592000
CACHE_TTL_AAP_POLICY=604800
CACHE_TTL_PEDIATRIC_JOURNALS=3600
CACHE_TTL_CHILD_HEALTH=604800
CACHE_TTL_PEDIATRIC_DRUGS=86400
DEDUP_ENABLED=true
DEDUP_SIMILARITY_THRESHOLD=0.9
DEDUP_LOG_REMOVED=false

# Optional server bind overrides (safe defaults)
HOST=0.0.0.0
PORT=3000
